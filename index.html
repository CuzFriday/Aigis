<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="styles.css" />
    <script src="script.js"></script>
    <link rel="icon" type="image/x-icon" href="https://bg054ezvk2.ufs.sh/f/4UtAvpGP2wnlAuA5eDqVxulmTgkGYPe3SLwjqFof8JDhOtZM" />

    <!-- Preload Audio and Videos --> 
    <link rel="preconnect" href="https://bg054ezvk2.ufs.sh">
    
    <link rel="preload" href="https://bg054ezvk2.ufs.sh/f/4UtAvpGP2wnlGaApKpBCIotdCJDbiclE3YZMjH0aBAXzhp4L" as="audio"/>
    <link rel="preload" href="https://bg054ezvk2.ufs.sh/f/4UtAvpGP2wnlPy5WxfSyO4JjIUNg0VoWzmQnPviRr9FhAXKs" as="video"/>

    <title>Aigis</title>

  </head>

  <body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
      <div class="image-container">
        <img
          src="Files/Images/Aigis_Battle.png"
          alt="Loading Image"
          class="loading-image grayscale"
          id="loadingImage"
        />
        <div class="reveal-mask" id="revealMask"></div>
      </div>
    </div>

    <!-- Background Music -->
    <audio id="backgroundMusic" loop>
      <source
        src="https://bg054ezvk2.ufs.sh/f/4UtAvpGP2wnlGaApKpBCIotdCJDbiclE3YZMjH0aBAXzhp4L"
        type="audio/wav"
      />
      <!-- Fallback for browsers that don't support the audio element -->
      Your browser does not support the audio element.
    </audio>

    <!-- Main Website Content -->
    <div class="main-content" id="mainContent">
      <video class="BackgroundVideo" loop autoplay muted src="https://bg054ezvk2.ufs.sh/f/4UtAvpGP2wnlPy5WxfSyO4JjIUNg0VoWzmQnPviRr9FhAXKs"></video>
      
      <!-- @ -->
      <img class="AtUsername" src="https://bg054ezvk2.ufs.sh/f/4UtAvpGP2wnldEXoTjphKYmB35x4Xcs9OuvwaNd2HQeLk6lq">  
      
      <!-- Visual Images -->
       <div class="RightVerticalBand RVB1 desktopview"> 
        <p class="marquee">
          <span class="KeepOut"> KEEP OUT  KEEP OUT  KEEP OUT  KEEP OUT  KEEP OUT  KEEP OUT KEEP OUT KEEP OUT KEEP OUT KEEP OUT KEEP OUT KEEP OUT KEEP OUT KEEP OUT KEEP OUT KEEP OUT KEEP OUT</span>
        </p>
      </div>
       <div class="LeftHorizontalBand LHB1 desktopview">
        <svg class="YoutubeIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M581.7 188.1C575.5 164.4 556.9 145.8 533.4 139.5C490.9 128 320.1 128 320.1 128C320.1 128 149.3 128 106.7 139.5C83.2 145.8 64.7 164.4 58.4 188.1C47 231 47 320.4 47 320.4C47 320.4 47 409.8 58.4 452.7C64.7 476.3 83.2 494.2 106.7 500.5C149.3 512 320.1 512 320.1 512C320.1 512 490.9 512 533.5 500.5C557 494.2 575.5 476.3 581.8 452.7C593.2 409.8 593.2 320.4 593.2 320.4C593.2 320.4 593.2 231 581.8 188.1zM264.2 401.6L264.2 239.2L406.9 320.4L264.2 401.6z"/></svg>
        <svg class="TwitchIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M455.4 167.5L416.8 167.5L416.8 277.2L455.4 277.2L455.4 167.5zM349.2 167L310.6 167L310.6 276.8L349.2 276.8L349.2 167zM185 64L88.5 155.4L88.5 484.6L204.3 484.6L204.3 576L300.8 484.6L378.1 484.6L551.9 320L551.9 64L185 64zM513.3 301.8L436.1 374.9L358.9 374.9L291.3 438.9L291.3 374.9L204.4 374.9L204.4 100.6L513.3 100.6L513.3 301.8z"/></svg>
      </div>
       <div class="LeftHorizontalBand LHB2 desktopview"></div>
    </div>
    <div class="aspect-container"></div>

    <script>
      class LoadingScreen {

        constructor() {
          this.progress = 0;
          this.loadingScreen = document.getElementById("loadingScreen");
          this.mainContent = document.getElementById("mainContent");
          this.loadingImage = document.getElementById("loadingImage");
          this.revealMask = document.getElementById("revealMask");
          this.backgroundMusic = document.getElementById("backgroundMusic");

          this.init();
        }

        init() {
          // Simulate loading process
          this.simulateLoading();
        }

        simulateLoading() {
          const loadingDuration = 3000; // 3 seconds total
          const startTime = Date.now();

          const animate = () => {
            const elapsed = Date.now() - startTime;
            const progress = Math.min((elapsed / loadingDuration) * 100, 100);

            this.updateProgress(progress);

            if (progress < 100) {
              requestAnimationFrame(animate);
            } else {
              this.completeLoading();
            }
          };

          animate();
        }

        updateProgress(targetProgress) {
          this.progress = targetProgress;

          // Update image reveal effect
          this.updateImageReveal();
        }           

        updateImageReveal() {
          // Update the reveal mask
          this.revealMask.style.setProperty("--progress", `${this.progress}%`);

          // Gradually remove grayscale as loading progresses
          const grayscaleAmount = Math.max(0, 100 - this.progress);
          const brightness = 0.7 + (this.progress / 100) * 0.3;
          this.loadingImage.style.filter = `grayscale(${grayscaleAmount}%) brightness(${brightness})`;
        }

        completeLoading() {
          // Final reveal - full color
          this.loadingImage.classList.remove("grayscale");
          this.loadingImage.style.filter = "none";

          setTimeout(() => {
            setTimeout(() => {
              this.loadingScreen.classList.add("blur");
              this.loadingScreen.classList.add("hidden");
              this.mainContent.classList.add("loaded");

              // Play background music
              this.playBackgroundMusic();

              // Remove loading screen from DOM after transition
              setTimeout(() => {
                this.loadingScreen.style.display = "none";
              }, 500);
            }, 800);
          }, 500);
        }

        playBackgroundMusic() {
          // Try to play background music
          this.backgroundMusic.play().catch((error) => {
            console.log("Audio autoplay was prevented:", error);
            // Add a user interaction handler to play music
            document.addEventListener(
              "click",
              () => {
                this.backgroundMusic.play();
              },
              { once: true },
            );
          });
        }
      }
     
      // Initialize loading screen when page loads
      document.addEventListener("DOMContentLoaded", () => {
        new LoadingScreen();
      });

    </script>
  </body>
</html>
